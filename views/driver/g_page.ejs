<!DOCTYPE html>
<html lang="en">
<%- include ('../layouts/header'); -%>

<body>
  <!-- Navigation-->
  <%- include ('../layouts/nav'); -%>
  <!-- Page Header-->
  <header class="masthead-driver-g2-background masthead">
    <div class="container position-relative px-4 px-lg-5">
      <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-7">
          <div class="site-heading">
            <h1>G Licence</h1>
            <span class="subheading">Register for the G test.</span>
          </div>
        </div>
      </div>
    </div>
  </header>
  <% if(driver){ %>
  <div class="container px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <form class="row g-3"
          action="/driver/update-driver#province"
          method="POST">
          <!-- Divider-->
          <hr class="my-4" />
          <!-- User details -->
          <h2 id="personal">Personal</h2>
          <div class="col-md-6">
            <label for="firstName"
              class="form-label">First Name</label>
            <input type="text"
              class="form-control"
              id="firstName"
              name="firstName"
              readonly
              value="<%= driver.firstName%>"></input>
          </div>
          <div class="col-md-6">
            <label for="lastName"
              class="form-label">Last Name</label>
            <input type="text"
              class="form-control"
              id="lastName"
              name="lastName"
              readonly
              value="<%= driver.lastName%>" />
          </div>
          <div class="col-md-6">
            <label for="userID"
              class="form-label">User ID</label>
            <input type="text"
              class="form-control"
              id="userID"
              name="userID"
              readonly
              value="<%= driver.userID%>" />
          </div>
          <div class="col-md-6">
            <label for="inputDOB"
              class="form-label">Date of birth</label>
            <input type="date"
              class="form-control"
              id="inputDOB"
              name="inputDOB"
              readonly
              value="<%= driver.DOB %>" />
          </div>
          <!-- Divider-->
          <hr class="my-4" />
          <!-- Address -->
          <h2>Address</h2>
          <div class="col-md-4">
            <label for="inputHouseNumber"
              class="form-label">House Number</label>
            <input type="number"
              class="form-control"
              id="inputHouseNumber"
              name="inputHouseNumber"
              readonly
              value="<%= driver.address.houseNumber %>" />
          </div>
          <div class="col-md-8">
            <label for="inputStreet"
              class="form-label">Street</label>
            <input type="text"
              class="form-control"
              id="inputStreet"
              name="inputStreet"
              readonly
              value="<%= driver.address.street%>" />
          </div>
          <div class="col-md-5">
            <label for="inputCity"
              class="form-label">City</label>
            <input type="text"
              class="form-control"
              id="inputCity"
              name="inputCity"
              readonly
              value="<%= driver.address.city%>" />
          </div>
          <div class="col-md-4">
            <label for="inputProvince"
              class="form-label">Province</label>
            <input type="text"
              class="form-control"
              id="inputProvince"
              name="inputProvince"
              readonly
              value="<%= driver.address.province%>" />
          </div>
          <div class="col-md-3">
            <label for="inputPostalCode"
              class="form-label">Postal Code</label>
            <input type="text"
              class="form-control"
              id="inputPostalCode"
              name="inputPostalCode"
              readonly
              value="<%= driver.address.postalCode %>" />
          </div>
          <!-- Divider-->
          <hr class="my-4" />
          <!-- Car details -->
          <h2>Car details</h2>
          <div class="col-md-6">
            <label for="inputCarMake"
              class="form-label">Make</label>
            <input type="text"
              class="form-control"
              id="inputCarMake"
              name="inputCarMake"
              readonly
              value="<%= driver.carMake %>" />
          </div>
          <div class="col-md-6">
            <label for="inputCarModel"
              class="form-label">Model</label>
            <input type="text"
              class="form-control"
              id="inputCarModel"
              name="inputCarModel"
              readonly
              value="<%= driver.carModel %>" />
          </div>
          <div class="col-md-6">
            <label for="inputCarYear"
              class="form-label">Year</label>
            <input type="number"
              class="form-control"
              id="inputCarYear"
              name="inputCarYear"
              readonly
              value="<%= driver.carYear %>" />
          </div>
          <div class="col-md-6">
            <label for="inputCarPlatNumber"
              class="form-label">Plat Number</label>
            <input type="number"
              class="form-control"
              id="inputCarPlatNumber"
              name="inputCarPlatNumber"
              readonly
              value="<%= driver.carPlatNumber %>" />
          </div>
          <div class="col-md-12">
            <label for="inputCarLicenceNumber"
              class="form-label">Licence Number</label>
            <input type="text"
              class="form-control"
              id="inputCarLicenceNumber"
              placeholder="Must be 8 characters (alphanumeric)"
              name="inputCarLicenceNumber"
              value="<%= driver.carLicenceNumber %>"
              readonly />
          </div>
          <!-- <div class="col-12">
                  <button type="submit" class="btn btn-primary" id="btnUpdate" disabled>Update</button>
                </div> -->
        </form>
        <!-- Divider-->
        <hr class="my-4" />
      </div>
    </div>
  </div>
  <% } %>
  <!-- Alert if driver not found
   if(msg==="No such driver exists!" ){ 
  <div class="custom-alert-red">
    <span class="closebtn"
      onclick="this.parentElement.style.display='none';">&times;</span>
    <strong>Server:</strong> No such driver exists!
  </div>
   } 
   Alert if driver to be created 
   if(msg==="Pls enter new driver details"){ 
  <div class="custom-alert-green">
    <span class="closebtn"
      onclick="this.parentElement.style.display='none';">&times;</span>
    <strong>Server:</strong> Pls enter new driver details
  </div>
   } 
  <!-- Alert if driver found --
   if(msg==="Driver found."){ 
  <div class="custom-alert-green">
    <span class="closebtn"
      onclick="this.parentElement.style.display='none';">&times;</span>
    <strong>Server:</strong> Driver found. View your details.
  </div>
   } 
  <!-- Form sever validation --
   if(msg==="Please ensure that all the fields have a value" ){ 
  <div class="custom-alert-yellow">
    <span class="closebtn"
      onclick="this.parentElement.style.display='none';">&times;</span>
    <strong>Server:</strong> Please ensure that all the fields have a value.
  </div>
   }  -->


  <div class="custom-alerts">
    <!-- Validation Errors -->
    <% if( errors != null && errors.length > 0 ) { %>
    <% for( var i = 0; i < errors.length; i++ ) { %>
    <div class="custom-alert-red">
      <span class="closebtn"
        onclick="this.parentElement.style.display='none';">&times;</span>
      <strong>Server:</strong> <%= errors[i] %>
    </div>
    <% } %>
    <% } %>
    <!-- Server Messages -->
    <% if( serverMsgs != null && serverMsgs.length > 0 ) { %>
    <% for( var i = 0; i < serverMsgs.length; i++ ) { %>
    <div class="custom-alert-yellow">
      <span class="closebtn"
        onclick="this.parentElement.style.display='none';">&times;</span>
      <strong>Server:</strong> <%= serverMsgs[i] %>
    </div>
    <% } %>
    <% } %>
  </div>
  <%- include ('../layouts/footer.ejs'); -%>
  <%- include ('../layouts/scripts.ejs'); -%>
  <script src="/js/activate-btn.js"></script>
</body>

</html>
