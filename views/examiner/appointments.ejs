<!DOCTYPE html>
<html lang="en">
<%- include ('../layouts/header'); -%>

<head>
  <!-- Animate on scroll @dep: two script elements -->
  <link href="/css/user-profiles.css"
    rel="stylesheet">
</head>

<body>
  <!-- Navigation-->
  <%- include ('../layouts/nav'); -%>
  <!-- Page Header-->
  <header class="masthead"
    style="background-image: url('/assets/mastheadImages/chuttersnap-hmWcrTxvAk0-unsplash.jpg');">
    <div class="container position-relative px-8 px-lg-8">
      <div class="row gx-6 gx-lg-8 justify-content-center">
        <div class="col-md-10 col-lg-10 col-xl-10">
          <div class="site-heading">
            <h1>Appointments</h1>
            <span class="subheading">View appointment details of drivers</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content-->
  <div class="container mb-5">
    <div class="col-12">
      <div class="row justify-content-xl-end justify-content-center">
        <div
          class="col-auto text-center text-xl-end d-flex align-items-center justify-content-xl-end justify-content-center">
          Filter by:
        </div>
        <div class="col-auto text-center text-xl-end">
          <div class="btn-group"
            role="group"
            aria-label="Basic example">
            <input onclick="window.location='/examiners/fetchAppointments/G2';"
              type="radio"
              class="btn-check"
              name="filterType"
              value="G2"
              id="byG2"
              autocomplete="off"
              <%= filteredBy == "G2" ? 'checked' : '' %>>
            <label class="btn btn-outline-success"
              for="byG2">G2</label>
            <input onclick="window.location='/examiners/fetchAppointments/G';"
              type="radio"
              class="btn-check"
              name="filterType"
              value="G"
              id="byG"
              autocomplete="off"
              <%= filteredBy == "G" ? 'checked' : '' %>>
            <label class="btn btn-outline-success"
              for="byG">G</label>
            <input onclick="window.location='/examiners/appointments-page';"
              type="radio"
              class="btn-check"
              name="filterType"
              id="byNone"
              autocomplete="off"
              <%= filteredBy ? '' : 'checked' %>>
            <label class="btn btn-outline-success"
              for="byNone">None</label>
          </div>
        </div>
      </div>

      <div class="row justify-content-xl-end justify-content-center mt-3">
        <div
          class="col-auto text-center text-xl-end d-flex align-items-center justify-content-xl-end justify-content-center">
          Sort by:
        </div>
        <div class="col-auto text-center text-xl-end">
          <div class="btn-group"
            role="group"
            aria-label="Basic example">
            <input type="radio"
              class="btn-check"
              name="sort"
              id="byDates"
              autocomplete="off">
            <label class="btn btn-outline-success"
              for="byDates">Dates</label>
            <input type="radio"
              class="btn-check"
              name="sort"
              id="byName"
              autocomplete="off">
            <label class="btn btn-outline-success"
              for="byName">Name</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid mb-5">
    <div class="row gx-4 mx-5">
      <% for(var i = 0; i < driversObj.length; i++) { %>
      <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6">
        <div class="card user-card-full">
          <div class="row m-l-0 m-r-0">
            <div class="col-sm-4 bg-c-lite-green user-profile">
              <div class="card-block text-center text-white">
                <div> <img src="/assets<%- driversObj[i].image1 %>"
                    class="img-radius"
                    alt="User-Profile-Image"
                    onerror="this.onerror=null;this.src='https://img.icons8.com/bubbles/100/000000/user.png';"> </div>
              </div>
            </div>
            <div class="col-sm-8">
              <div class="row">
                <div class="card-block">
                  <div class="row justify-content-between">
                    <div class="col-sm-5 mx-2">
                      <p class="row">Name:</p>
                      <h6 class="row mx-1"><%- driversObj[i].firstName %> <%- driversObj[i].lastName %> </h6>
                    </div>
                    <div class="col-sm-5 mx-2">
                      <p class="row">Test:</p>
                      <h6 class="row mx-1"><%- driversObj[i].appointmentType %></h6>
                    </div>
                    <div class="col-sm-5 mx-2">
                      <p class="row">Time:</p>
                      <h6 class="row mx-1"><%- driversObj[i].appointmentID.appointmentTime %></h6>
                    </div>
                    <div class="col-sm-5 mx-2">
                      <p class="row">Date:</p>
                      <h6 class="row mx-1"><%- driversObj[i].appointmentID.appointmentDate %></h6>
                    </div>
                    <div class="col-sm-5 mx-2">
                      <p class="row">Car Make:</p>
                      <h6 class="row mx-1"><%- driversObj[i].carMake %></h6>
                    </div>
                    <div class="col-sm-5 mx-2">
                      <p class="row">Plate Number:</p>
                      <h6 class="row mx-1"><%- driversObj[i].carPlatNumber %></h6>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row justify-content-center justify-content-sm-end m-auto">
                <div class="col-4 col-sm-4 justify-content-center ">
                  <button class="btn btn-primary">Grade</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <% } %>



    </div>
  </div>
  <%- include ('../components/custom-alerts.ejs'); -%>

  <%- include ('../layouts/footer.ejs'); -%>
  <%- include ('../layouts/scripts.ejs'); -%>
  <script>
    // document.addEventListener( 'DOMContentLoaded', () => {
    //   const filterForm = document.getElementById( "filterForm" )

    //   document.getElementsByName( "filterType" ).forEach( btn => {
    //     btn.addEventListener( "click", function() {
    //       console.log( "clicked" )
    //       filterForm.submit()
    //     } )
    //   } )
    // } )
  </script>
</body>

</html>
